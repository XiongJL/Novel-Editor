# 小说编辑器用户指南 (User Guide)

欢迎使用 Novel Editor！这是一个专为创作者设计的现代化写作工具，提供沉浸式的写作体验和强大的灵感管理功能。

## 1. 界面概览

主要通过左侧活动栏切换功能视图：
- **资源管理器 (Explorer)**: 管理卷、章结构。
- **大纲 (Outline)**: (开发中) 查看章节大纲。
- **灵感 (Ideas)**: 管理和查看所有灵感笔记。
- **故事线 (Plot)**: 管理情节线和情节要点。
- **世界观 (World)**: 管理角色、物品、世界观设定和地图。
- **搜索 (Search)**: 全局全文搜索。
- **设置 (Settings)**: 调整主题、语言和快捷键。

## 2. 基础操作

### 📚 作品管理
- **新建卷**: 点击侧边栏顶部的 "+" 按钮。
- **新建章**: 鼠标悬停在卷名上，点击卷右侧的 "+" 按钮。
- **重命名**: 双击卷名或章名即可编辑。
- **打开章节**: 单击章节即可在右侧编辑器打开。

### ✍️ 写作与排版
编辑器顶部工具栏提供常用的格式化工具：
- **字体样式**: 加粗、斜体、下划线、删除线。
- **对齐方式**: 左对齐、居中、右对齐。
- **一键排版**: 点击 "排版" (Format) 按钮，自动执行：
    - 中英文标点转换
    - 首行缩进 (2字符)
    - 段落间距优化
- **预览模式**: 点击 "手机预览" 图标查看在移动设备上的阅读效果。

## 3. 核心功能

自动保存章节内容

### 💡 灵感系统 (Idea System)
随时捕捉灵感，不打断写作心流。
1.  **选中创建**: 在正文中选中一段文字，点击浮出的 "灵感" 图标，即可为该段文字添加笔记。
2.  **全局创建**: 按快捷键 `Ctrl+I`，随时记录与当前文本无关的全局灵感。
3.  **灵感侧边栏**: 点击左侧灯泡图标，查看所有灵感。
    - **跳转**: 点击灵感卡片，自动跳转到正文对应的位置并高亮。

### 🔍 搜索功能 (Search)
- **页内查找**: `Ctrl+F`
    - 支持 查找/替换。
    - 支持 正则表达式 (Regex) 和 大小写匹配。
    - 高亮显示所有匹配项。
- **全局搜索**: `Ctrl+Shift+F`
    - 搜索整个作品库中的章节、灵感、角色、物品、世界观和地图。
    - 点击结果直接跳转并高亮对应内容。

### 📖 故事结构 (Story Structure)
在编辑器侧边栏的 "故事线" 标签中管理剧情：
- **情节线**: 创建多条平行或交叉的情节线（如主线、暗线）。
- **情节要点**: 在情节线上添加伏笔、悬念、承诺、事件等节点。
- **叙事矩阵**: 以表格形式查看「章节 × 情节线」的交叉全景图，支持行列转置。
- **文本锚点**: 将情节要点锚定到编辑器正文中的特定位置，实现双向跳转。

### 📝 @ 提及系统 (Mentions)
在情节要点描述中使用 `@` 快速引用实体：
1.  输入 `@` 弹出下拉候选菜单。
2.  使用顶部标签切换类别：**全部 / 角色 / 物品 / 世界观 / 地图**。
3.  输入关键字过滤，回车或点击插入。
4.  点击已插入的 @角色 或 @物品 可弹出详情卡片。

### 🌍 世界观管理 (World Building)
在 "世界观" 标签中管理创作设定：
- **角色**: 创建角色卡，记录头像、描述、自定义属性。
- **物品**: 管理场景中的道具和物体。
- **世界设定**: 记录世界观背景、规则等。
- **地图**: 创建画布地图，可视化管理空间关系。

### 🎨 个性化设置
点击左下角齿轮图标打开设置：
- **主题**: 切换 浅色 (Light) / 深色 (Dark) 模式。
- **语言**: 切换 中文 / English。
- **快捷键**: 查看和自定义快捷键绑定。

## 4. 常用快捷键

| 功能           | Windows/Linux      | macOS             |
| :------------- | :----------------- | :---------------- |
| **保存**       | `Ctrl + S`         | `Cmd + S`         |
| **撤销**       | `Ctrl + Z`         | `Cmd + Z`         |
| **重做**       | `Ctrl + Y`         | `Cmd + Shift + Z` |
| **页内查找**   | `Ctrl + F`         | `Cmd + F`         |
| **全局搜索**   | `Ctrl + Shift + F` | `Cmd + Shift + F` |
| **新建灵感**   | `Ctrl + I`         | `Cmd + I`         |
| **排版**       | `Ctrl + E`         | `Cmd + E`         |
| **切换侧边栏** | `Ctrl + B`         | `Cmd + B`         |
| **关闭弹窗**   | `ESC`              | `ESC`             |

## 5. 常见问题
- **无法输入中文标点？** 请尝试使用 "一键排版" 功能，或检查输入法设置。
- **搜索不到内容？** 搜索索引会在保存时自动更新，请尝试保存文件后再搜索，或在搜索栏点击 "重建索引"。
